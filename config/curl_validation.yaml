# CRUD Validation Configuration
# Used by scripts/validate_curl_examples.py to test curl examples against live API

validation:
  # Test namespace (use dedicated test namespace to avoid conflicts)
  namespace: "default"

  # Unique prefix for test resources (enables cleanup of orphaned resources)
  test_prefix: "curl-test"

  # Timeout per HTTP operation (seconds)
  timeout: 30

  # Rate limiting (requests per second)
  rate_limit: 2.0

  # Retry configuration for transient failures
  retries: 3
  retry_delay: 2.0

  # Resources to test (empty = all configured resources in minimum_configs.yaml)
  # Specify resource types to limit testing, e.g.: ["http_loadbalancer", "origin_pool"]
  resources: []

  # Skip certain CRUD operations if needed
  # Options: ["create", "read", "update", "delete", "verify"]
  skip_operations: []

# Expected HTTP status codes per CRUD operation
expected_status:
  create: [200, 201]
  read: [200]
  update: [200]
  delete: [200, 202, 204]
  verify_delete: [404]

# API path templates for CRUD operations
# {namespace} and {name} are substituted at runtime
api_paths:
  http_loadbalancer:
    collection: "/api/config/namespaces/{namespace}/http_loadbalancers"
    resource: "/api/config/namespaces/{namespace}/http_loadbalancers/{name}"

  origin_pool:
    collection: "/api/config/namespaces/{namespace}/origin_pools"
    resource: "/api/config/namespaces/{namespace}/origin_pools/{name}"

  tcp_loadbalancer:
    collection: "/api/config/namespaces/{namespace}/tcp_loadbalancers"
    resource: "/api/config/namespaces/{namespace}/tcp_loadbalancers/{name}"

  healthcheck:
    collection: "/api/config/namespaces/{namespace}/healthchecks"
    resource: "/api/config/namespaces/{namespace}/healthchecks/{name}"

  app_firewall:
    collection: "/api/config/namespaces/{namespace}/app_firewalls"
    resource: "/api/config/namespaces/{namespace}/app_firewalls/{name}"

# Report settings
reports:
  # Output directory for reports
  output_dir: "reports"

  # Base filename (will generate .json and .md)
  base_name: "curl-validation-report"

  # Include timestamps in filenames
  timestamp_filenames: false
